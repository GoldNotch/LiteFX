<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteFX: Project Setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_xs.png"/></td>
  <td id="projectalign">
   <div id="projectname">LiteFX<span id="projectnumber">&#160;0.2.2.2022</span>
   </div>
   <div id="projectbrief">Computer Graphics Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_tutorials_project_setup.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Project Setup </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This guide demonstrates the steps that are required to setup a simple application that uses the <a class="el" href="namespace_lite_f_x.html">LiteFX</a> engine. It also shows you how to integrate shaders and assets into your build process.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Runtime and Dependency Installation</h1>
<p ><a class="el" href="namespace_lite_f_x.html">LiteFX</a> makes heavy use of <a href="https://cmake.org/">CMake</a> for building applications. Using the engine is straightforward, if your application uses CMake too. This guide will only focus on explaining how to setup a new project using CMake. Other build systems might work similar. In fact, all required sources are available from the binary release or manual build. For details about how to perform a manual build, read the <a href="index.html#autotoc_md14">installation notes</a>.</p>
<p >Before we start, we need to make sure that your application can access the engine and it's dependencies. Start of by downloading the <a href="https://github.com/crud89/LiteFX/releases">latest release</a> and extract and copy it to a location you prefer.</p>
<p >The engine on itself does, however, require you to install its dependencies too. There are several ways to do this:</p>
<ul>
<li>Manual dependency installation: take a look at the <a href="index.html#autotoc_md22">dependency list</a> and download all the required dependencies and extract or install them into a common folder. Ideally you can use the same directory you already used for the <a class="el" href="namespace_lite_f_x.html">LiteFX</a> release. All downloads may reside in their own respective sub-directories, though. Note that, if you are using a release version (and not a manual build), all optional dependencies are required, thus you also have to install them. The only exception are the dependencies used by the samples, though in the following guide <a href="https://www.glfw.org/">glfw3</a> is utilized, so you might want to install it too.</li>
<li>Using CMake find scripts: more advanced users may use <code>FindXXX.cmake</code> files to locate the dependencies. However, this process is convoluted, tedious and error-prone and thus not further described in this guide.</li>
<li>Use <a href="https://github.com/microsoft/vcpkg">vcpkg</a>: the engine itself uses <em>vcpkg</em> to install dependencies, so you could too. <em>vcpkg</em> makes dependency management easy, so this is the preferred way.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Setup Project using CMake</h1>
<p >Let's start creating our project. Create a new directory and within it, create the following files:</p>
<ul>
<li><em>CMakeLists.txt</em>: contains the project build script.</li>
<li><em>main.h</em>: the project's main header file.</li>
<li><em>main.cpp</em>: the project's main source file.</li>
</ul>
<p >Apart from the <em>CMakeLists.txt</em> file, we are not going to write any code in this guide. The <a href="md_docs_tutorials_quick_start.html">next guide</a> will walk you through the steps required to write a simple rendering application.</p>
<p >Go ahead and open the <em>CMakeLists.txt</em> file with any text editor. Copy the following code into the file:</p>
<div class="fragment"><div class="line">CMAKE_MINIMUM_REQUIRED(VERSION 3.16)</div>
<div class="line">PROJECT(MyLiteFXApp LANGUAGES CXX)</div>
<div class="line"> </div>
<div class="line">SET(CMAKE_CXX_STANDARD 20)</div>
<div class="line">SET(CMAKE_PREFIX_PATH &quot;...&quot;)</div>
<div class="line">FIND_PACKAGE(LiteFX 1.0 CONFIG REQUIRED)</div>
<div class="line"> </div>
<div class="line">ADD_EXECUTABLE(MyLiteFXApp</div>
<div class="line">  &quot;main.h&quot;</div>
<div class="line">  &quot;main.cpp&quot;</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">TARGET_LINK_LIBRARIES(MyLiteFXApp PRIVATE LiteFX.Backends.Vulkan)   # For DirectX 12 use: LiteFX.Backends.DirectX12</div>
</div><!-- fragment --><p >Replace the <code>...</code> in line 5 with the directory, you've installed all your dependencies and the engine to. If you have installed <a class="el" href="namespace_lite_f_x.html">LiteFX</a> to another directory, add the following line below <code>SET(CMAKE_PREFIX_PATH "...")</code>:</p>
<div class="fragment"><div class="line">SET(LiteFX_DIR &quot;...&quot;)</div>
</div><!-- fragment --><p >Again, replace the <code>...</code> with the directory, you've placed the <a class="el" href="namespace_lite_f_x.html">LiteFX</a> release to.</p>
<p >Next, we have to ensure, that the dynamic library files (i.e. the DLL-files) for all dependencies are copied to the build directory. Otherwise your app will not run properly. <a class="el" href="namespace_lite_f_x.html">LiteFX</a> provides a list of all dependencies in the <code>LITEFX_DEPENDENCIES</code> variable. Add the following code to the bottom of your <em>CMakeLists.txt</em> file to add a copy command for the build:</p>
<div class="fragment"><div class="line">FOREACH(DEPENDENCY ${LITEFX_DEPENDENCIES})</div>
<div class="line">  GET_TARGET_PROPERTY(DEPENDENCY_LOCATION ${DEPENDENCY} IMPORTED_LOCATION)</div>
<div class="line"> </div>
<div class="line">  IF(NOT DEPENDENCY_LOCATION)</div>
<div class="line">    GET_TARGET_PROPERTY(DEPENDENCY_LOCATION_DEBUG ${DEPENDENCY} IMPORTED_LOCATION_DEBUG)</div>
<div class="line">    GET_TARGET_PROPERTY(DEPENDENCY_LOCATION_RELEASE ${DEPENDENCY} IMPORTED_LOCATION_RELEASE)</div>
<div class="line">    SET(DEPENDENCY_LOCATION &quot;$&lt;$&lt;CONFIG:DEBUG&gt;:${DEPENDENCY_LOCATION_DEBUG}&gt;$&lt;$&lt;CONFIG:RELEASE&gt;:${DEPENDENCY_LOCATION_RELEASE}&gt;&quot;)</div>
<div class="line">  ENDIF(NOT DEPENDENCY_LOCATION)</div>
<div class="line"> </div>
<div class="line">  ADD_CUSTOM_COMMAND(TARGET MyLiteFXApp POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_if_different ${DEPENDENCY_LOCATION} $&lt;TARGET_FILE_DIR:MyLiteFXApp&gt;)</div>
<div class="line">ENDFOREACH(DEPENDENCY ${LITEFX_DEPENDENCIES})</div>
</div><!-- fragment --><p >This loop looks complicated at first, but all it does is to look for the right library file, depending on the build configuration (<code>Debug</code> or <code>Release</code>) and copy the proper file into the build directory in a post-build event.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Setup Project using vcpkg</h2>
<p >If you choose to use <em>vcpkg</em>, then the <em>CMakeLists.txt</em> file will look slightly different. If you want to go ahead with the manual installation, you can skip this section.</p>
<div class="fragment"><div class="line">CMAKE_MINIMUM_REQUIRED(VERSION 3.16)</div>
<div class="line"> </div>
<div class="line">SET(VCPKG_MODULE_DIRECTORY &quot;...&quot;)</div>
<div class="line">SET(CMAKE_TOOLCHAIN_FILE &quot;${VCPKG_MODULE_DIRECTORY}/scripts/buildsystems/vcpkg.cmake&quot;)</div>
<div class="line"> </div>
<div class="line">PROJECT(MyLiteFXApp LANGUAGES CXX)</div>
<div class="line"> </div>
<div class="line">SET(CMAKE_CXX_STANDARD 20)</div>
<div class="line">SET(LiteFX_DIR &quot;...&quot;)</div>
<div class="line">FIND_PACKAGE(LiteFX 1.0 CONFIG REQUIRED)</div>
<div class="line"> </div>
<div class="line">ADD_EXECUTABLE(MyLiteFXApp &quot;main.h&quot; &quot;main.cpp&quot;)</div>
<div class="line"> </div>
<div class="line">TARGET_LINK_LIBRARIES(MyLiteFXApp PRIVATE LiteFX.Backends.Vulkan)   # For the DirectX 12 target use: LiteFX.Backends.DirectX12. You can also add both targets here.</div>
<div class="line"> </div>
<div class="line">FOREACH(DEPENDENCY ${LITEFX_DEPENDENCIES})</div>
<div class="line">  GET_TARGET_PROPERTY(DEPENDENCY_LOCATION ${DEPENDENCY} IMPORTED_LOCATION)</div>
<div class="line"> </div>
<div class="line">  IF(NOT DEPENDENCY_LOCATION)</div>
<div class="line">    GET_TARGET_PROPERTY(DEPENDENCY_LOCATION_DEBUG ${DEPENDENCY} IMPORTED_LOCATION_DEBUG)</div>
<div class="line">    GET_TARGET_PROPERTY(DEPENDENCY_LOCATION_RELEASE ${DEPENDENCY} IMPORTED_LOCATION_RELEASE)</div>
<div class="line">    SET(DEPENDENCY_LOCATION &quot;$&lt;$&lt;CONFIG:DEBUG&gt;:${DEPENDENCY_LOCATION_DEBUG}&gt;$&lt;$&lt;CONFIG:RELEASE&gt;:${DEPENDENCY_LOCATION_RELEASE}&gt;&quot;)</div>
<div class="line">  ENDIF(NOT DEPENDENCY_LOCATION)</div>
<div class="line"> </div>
<div class="line">  ADD_CUSTOM_COMMAND(TARGET MyLiteFXApp POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy_if_different ${DEPENDENCY_LOCATION} $&lt;TARGET_FILE_DIR:MyLiteFXApp&gt;)</div>
<div class="line">ENDFOREACH(DEPENDENCY ${LITEFX_DEPENDENCIES})</div>
</div><!-- fragment --><p >Again, replace the <code>...</code> in line 4 with the path to the <em>vcpkg</em> installation and set the <code>LiteFX_DIR</code> in line 9 to the release location. Unfortunately, <a class="el" href="namespace_lite_f_x.html">LiteFX</a> does not currently have its dedicated <em>vcpkg</em>-port, that's why this directory needs to be specified. Before we continue, create another file in the project directory and call it <em>vcpkg.json</em>. This file is called <em>manifest file</em> and is used by <em>vcpkg</em> to find the dependencies and install them when the project is configured later. Copy the following code to the manifest file:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot;: &quot;my-litefx-app&quot;,</div>
<div class="line">  &quot;version&quot;: &quot;1.0&quot;,</div>
<div class="line">  &quot;dependencies&quot;: [</div>
<div class="line">    &quot;spdlog&quot;,</div>
<div class="line">    &quot;glm&quot;,</div>
<div class="line">    &quot;directxmath&quot;,</div>
<div class="line">    &quot;directx-headers&quot;,</div>
<div class="line">    &quot;vulkan&quot;,</div>
<div class="line">    &quot;glfw3&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Running CMake</h2>
<p >The next thing we need to do is letting CMake configure our project. Open a command line interface and navigate to your project directory. Run the following command to configure your project and write the build to the <em>out/build/</em> subdirectory:</p>
<div class="fragment"><div class="line">cmake . -B out/build/</div>
</div><!-- fragment --><p >Note that there are other ways to do this step. For example, Visual Studio's CMake integration is very straightforward and should be used, if you are working with Visual Studio anyway.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Performing Builds</h2>
<p >The next step is to write the actual code and is described in <a href="md_docs_tutorials_quick_start.html">the quick start guide</a>. In order to compile your application after you've changed the code, you can run the following command:</p>
<div class="fragment"><div class="line">cmake --build out/build/</div>
</div><!-- fragment --><p >Currently this build will fail, because we have not yet written any code.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Adding Shader Sources</h2>
<p >During development you naturally have to work with shaders. <a class="el" href="namespace_lite_f_x.html">LiteFX</a> allows you to easily integrate shader sources into your build tree using CMake. You can use the <code>ADD_SHADER_MODULE</code> function to define a shader. The <code>TARGET_LINK_SHADERS</code> function can then be used to define a dependency to the shader module for your project. For more information, refer to the <a href="https://github.com/crud89/LiteFX/wiki/Shader-Module-Targets">project wiki</a>.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Defining Asset Directories</h2>
<p >Similar to shaders, you may want to integrate assets into your build process. Using <a class="el" href="namespace_lite_f_x.html">LiteFX</a>, you can define asset directories using the <code>TARGET_ADD_ASSET_DIRECTORY</code> function. This function will define a sub-directory that can be used by your executable to locate assets. For more information, refer to the <a href="https://github.com/crud89/LiteFX/wiki/Asset-Directories">project wiki</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
